<script>
    const _translations = {{ get_translations_json() }};

    function trans(key, variables, domain) {
        if (typeof key == 'undefined' || typeof domain == 'undefined') {
            return null;
        }

        if (typeof _translations[domain] == 'undefined' || typeof _translations[domain][key] == 'undefined') {
            return domain + '.' + key;
        }

        let message = _translations[domain][key];
        for (placeholder of Object.keys(variables)) {
            message = message.replace(placeholder, variables[placeholder]);
        }

        return message;
    }
</script>
