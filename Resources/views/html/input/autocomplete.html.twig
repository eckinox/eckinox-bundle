{% set id = uniqid() %}

<input type="text" id="autocomplete_{{ id }}"
{% for key, value in (settings.attributes is defined ? settings.attributes : {}) %}
    {% if key == 'value' and value.id is defined %}
        {% if settings.key is not defined or settings.key == 'id' %}
            value="{{ value.get(settings.label) | escape('html_attr') }}"
        {% else %}
            value="{{ (value.get(settings.label) ~ ' (' ~ value.get(settings.key) ~ ')') | escape('html_attr') }}"
        {% endif %}
    {% else %}
        {{ key | raw }}="{{ value | escape('html_attr') }}"
    {% endif %}
{% endfor %}
autocomplete-settings="{{ settings | json_encode | escape('html_attr') }}"
>

<script>
    BundleUI.initAucompleteInput('{{ id }}');
</script>
